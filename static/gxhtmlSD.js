gx.html=function(){var K=/<style[^>]*>([\s\S]*?)<\/style>/i,M=RegExp("<style[^>]*>([\\s\\S]*?)</style>","ig"),N=/<link ([^>]*rel=['"]?stylesheet['"]?[^>]*)>/i,O=RegExp("<link ([^>]*rel=['\"]?stylesheet['\"]?[^>]*)>","ig"),P=/<script([^>]*)>([\s\S]*?)<\/script>/i,Q=RegExp("<script([^>]*)>([\\s\\S]*?)<\/script>","ig"),R=/href=(['"]?)([^'">]*)\1/i,S=/src=(['"]?)([\s\S]*)\?([^"']*)\1/i,T=/src=(['"]?)([^"']*)\1/i;return{encodeCaseFormat:function(a,b,c){b==gx.html.controls.formats.TEXT?a=gx.html.encode(a,
!1,c):b==gx.html.controls.formats.TEXT_W_SPACES&&(a=gx.html.encode(a,!0,c));return a},encode:function(a,b,c){var d=["<",">","&"],e=["&lt;","&gt;","&amp;"];b&&(d.push(" "),e.push("&nbsp;"));c&&(d.push("\n"),e.push("<br/>"));return gx.text.charReplace(a,d,e)},getHidden:function(a,b){return'<input type="hidden" id="'+a+'" name="'+a+'" value="'+b+'">'},viewportWidth:function(){var a=document.documentElement;return a&&a.clientHeight?Math.max(a.clientWidth,document.body.clientWidth):document.body.clientWidth},
viewportHeight:function(){var a=document.documentElement;return a&&a.clientHeight?Math.max(a.clientHeight,document.body.clientHeight)-5:document.body.clientHeight-5},cleanHtmlRefs:function(a){a=a.replace(M,"");a=a.replace(O,"");return a=a.replace(Q,"")},setOuterHtml:function(a,b){a.outerHTML=b},setInnerHtml:function(a,b,c){var d=gx.dom.styles();gx.dom.shouldPurge()&&gx.dom.purge(a,!0);a.innerHTML=this.cleanHtmlRefs(b);gx.util.browser.isIE()&&gx.cache.updateStyles(d,gx.dom.styles());!0==c&&this.processCode(b,
!1)},setInnerText:function(a,b,c,d){null!=a.nodeValue?a.nodeValue=b:null!=a.innerText&&!gx.util.browser.isChrome()?a.innerText=b:a.innerHTML=gx.util.browser.isFirefox()?gx.html.encodeCaseFormat(b,c,d):gx.util.browser.isChrome()?"<text>"+gx.html.encodeCaseFormat(b,c,d)+"</text>":"TEXT"==a.tagName&&null!=a.innerHTML?b:"<text>"+b+"</text>"},nodesFromText:function(a){var b=document.createElement("div");b.style.visibility="hidden";b.style.display="none";document.body.appendChild(b);gx.dom.shouldPurge()&&
gx.dom.purge(b,!0);b.innerHTML=a;for(var a=[],c=b.childNodes.length,d=0;d<c;d++)a.push(b.childNodes[d].cloneNode(!0));gx.dom.removeControlSafe(b);return a},onTypeAvailable:function(a,b,c){try{eval(a),c instanceof Array?b.apply(this,c):b()}catch(d){setTimeout(function(){gx.html.onTypeAvailable(a,b,c)},250)}},processCode:function(a,b,c,d,e){var i=a,q=[],G=!1,u=[],z=[],h=[];if(""!=a){for(var f=[];f;){if(f=a.match(K)){var g=f.lastIndex;g||(g=f.index+f[0].length);a=a.substring(g)}else break;h.push(f[1])}a=
i;for(f=[];f;){if(f=a.match(N))(g=f.lastIndex)||(g=f.index+f[0].length),a=a.substring(g);else break;if((g=f[1].match(R))&&!gx.cache.fileLoaded(g[2]))z.push(g[2]),gx.cache.addRemoteFile(g[2])}a=i;for(f=[];f;){if(f=a.match(P))(g=f.lastIndex)||(g=f.index+f[0].length),a=a.substring(g);else break;void 0!=f[1]&&""!=f[1]?(g=f[1].match(S),null==g&&(g=f[1].match(T)),g&&!gx.cache.fileLoaded(g[2])?(i=g[2],gx.lang.emptyObject(g[3])||(i+="?"+g[3]),q.push(i),gx.cache.addRemoteFile(g[2])):g&&gx.cache.fileLoaded(g[2])?
G=!0:!g&&f[2]&&u.push(f[2])):f[2]&&u.push(f[2])}if(!0!=b){f="";b=u.length;for(a=0;a<b;a++)f+=u[a];""!=f&&gx.lang.doEval(f);var k=[];if("function"==typeof c)gx.http.loadScripts(q,function(){d instanceof Array?c.apply(this,d):c()});else{u={method:"GET",useCash:!0};u.load=function(a,i){gx.lang.supEval(this,k.push(i))}.closure(this);u.mimetype="text/plain";u.sync=!0;for(var j=q.length,a=0;a<j;a++)u.url=q[a],gx.http.doCall(u)}f="";b=k.length;for(a=0;a<b;a++)f+=k[a];""!=f&&gx.lang.doEval(f);q=document.getElementsByTagName("style");
b=z.length;for(a=0;a<b;a++){u=!1;f=q.length;for(i=0;i<f;i++)if(z[a]==(q[a].styleSheet&&q[a].styleSheet.cssText?q[a].styleSheet.cssText:q[a].innerHTML))u=!0;u||gx.http.loadStyle(z[a],function(){})}f="";b=h.length;for(a=0;a<b;a++)f+=h[a];""!=f&&(z=document.createElement("style"),z.setAttribute("type","text/css"),document.getElementsByTagName("head")[0].appendChild(z),z.styleSheet?z.styleSheet.cssText=f:(h=document.createTextNode(f),z.appendChild(h)));if(0==j&&"function"==typeof c)if(G&&e)gx.html.onTypeAvailable(e,
c,d);else d instanceof Array?c.apply(this,d):c()}}},multimediaUpload:{resolveFileName:function(a,b){return a||b||""},onOptionChange:function(a){var a=this.getElements(a),b=a.fileField,c=a.uriField;a.uriOption.checked?(gx.dom.removeClass(b,"field-selected"),gx.dom.addClass(c,"field-selected")):(gx.dom.removeClass(c,"field-selected"),gx.dom.addClass(b,"field-selected"))},imageLoadHandler:function(a,b){var c=function(a){var b="IMG"==a.tagName?"src":"href";return!a[b]||a[b]==document.location.href||"/"==
a[b].charAt(a[b].length-1)};!a||c(a)?gx.dom.addClass(b,"gx-multimedia-empty"):gx.dom.removeClass(b,"gx-multimedia-empty");b&&!c(b)&&gx.dom.removeClass(b,"gx-multimedia-empty");if(gx.util.browser.isIE()&&(a&&"IMG"==a.tagName)&&(c=parseInt(a.currentStyle.maxWidth),c<a.width&&(a.style.height=gx.dom.addUnits(c*a.height/a.width),a.style.width=gx.dom.addUnits(c)),c=parseInt(a.currentStyle.maxHeight),c<a.height))a.style.width=gx.dom.addUnits(c*a.width/a.height),a.style.height=gx.dom.addUnits(c)},dialogCloseHandler:function(a,
b,c){var d=this.getElements(a);b.style.display="none";a.appendChild(b);b.removeChild(c);d.uriOption.checked?this.refreshPreviewImg(a,d.uriField):this.refreshPreviewImg(a,d.fileField);d.action.focus()},actionClickHandler:function(a,b){a=a||event;a.preventDefault?a.preventDefault():a.returnValue=!1;var c=this.getElements(b);c.fieldsCt.style.display="block";var d=document.createElement("input");d.type="button";d.className="Button";d.value=gx.getMessage("GXM_uploadconfirmoption");c.fieldsCt.appendChild(d);
var e=130;gx.util.browser.isIE()&&gx.util.browser.isCompatMode()&&(b.style.position="static",c.fileField.style.marginTop="0",c.uriField.style.marginTop="0",e=230);e=gx.popup.openDialog({parentElement:b,w:500,h:e,contentHtml:c.fieldsCt,title:"",showParentPopups:!1,showCloseButton:!0,callbacks:{beforeClose:this.dialogCloseHandler.closure(this,[b,c.fieldsCt,d])}});c.fileOption.focus();gx.evt.attach(d,"click",e.close,e);gx.fx.obs.addObserver("gx.keypress",this,this.keypressHandler)},clearActionHandler:function(a,
b){a=a||event;a.preventDefault?a.preventDefault():a.returnValue=!1;var c=this.getElements(b);c.uriField.value="";c.fileField.value="";c.uriOption.checked=!1;c.fileOption.checked=!0;gx.fx.obs.notify("gx.multimedia.clear",[b]);this.refreshPreviewImg(b,c.fileField)},keypressHandler:function(a){13==a.event.keyCode&&(a.cancel=!0,gx.popup.currentPopup.close(),gx.fx.obs.deleteObserver("gx.keypress",this,this.keypressHandler))},tapHandler:function(a){this.getElements(a).action.focus()},getElements:function(a){var a=
gx.dom.el(a),b=a.firstChild,c=a.childNodes[1],d=null,e=a.childNodes[2],a=gx.dom.el(a.id+"_fields");"A"==e.tagName?(d=e,e=e.firstChild):"IMG"!=e.tagName&&(e=null);return{previewLink:d,action:b,clearAction:c,previewImg:e,fieldsCt:a,uriField:a.childNodes[2],fileField:a.childNodes[3],uriOption:a.childNodes[1].childNodes[0],fileOption:a.childNodes[0].childNodes[0]}},getContainer:function(a){for(a=gx.dom.el(a);a;){if(gx.dom.hasClass(a,"gx-multimedia-upload"))return a;a=a.parentNode}return null},setPreviewImage:function(a,
b){var a=gx.dom.el(a),c=this.getElements(a);c.previewImg&&("IMG"==c.previewImg.tagName&&(c.previewImg.src=b),this.imageLoadHandler(c.previewImg,c.previewLink))},setPreviewLink:function(a,b){var a=gx.dom.el(a),c=this.getElements(a);c.previewLink&&(b&&(!c.previewImg||"IMG"!=c.previewImg.tagName)?c.previewLink.href=b:c.previewLink.removeAttribute("href"));this.imageLoadHandler(c.previewImg,c.previewLink)},refreshPreviewImg:function(a,b){var a=gx.dom.el(a),c=this.getElements(a);if(c.previewImg&&"INPUT"==
b.tagName){if(b==c.fileField){var d;if(b.files&&(d=b.files[0]))if(d.type.match(/image.*/)){var e=new FileReader;e.onload=function(a,b,c){b.src=a.target.result;c.href=""}.closure(this,[c.previewImg,c.previewLink],!0);e.readAsDataURL(d)}else c.previewLink.href="#";if(!d&&"1"==b.getAttribute("gxctrlchanged")||b.gxctrldeleted)c.previewImg.src="",c.previewLink.href=""}else b==c.uriField&&(c.previewImg.src=b.value,c.previewLink.href=b.value);this.imageLoadHandler(c.previewImg,c.previewLink)}},setType:function(a,
b){var a=gx.dom.el(a),c=this.getElements(a);c.fileOption.checked=b;c.uriOption.checked=!b;b&&(c.uriField.value="");this.onOptionChange(a)},getOptionValue:function(a){a=gx.dom.el(a);return this.getElements(a).fileOption.checked?"file":"uri"},createControl:function(a){a=gx.dom.el(a);if(!a._created){a._created=!0;var b=this.getElements(a);gx.dom.addClass(b.fileField,"field-selected");b.action.setAttribute("gxfocusable","1");var c=this.imageLoadHandler.closure(this,[b.previewImg,b.previewLink]),d=this.onOptionChange.closure(this,
[a]);c();b.previewImg&&gx.evt.attach(b.previewImg,"load",c);d();gx.evt.attach(b.uriOption,"click",d);gx.evt.attach(b.fileOption,"click",d);gx.evt.attach(b.action,"click",this.actionClickHandler.closure(this,[a],!0));gx.evt.attach(b.clearAction,"click",this.clearActionHandler.closure(this,[a],!0));gx.evt.attach(a,"touchstart",this.tapHandler.closure(this,[a]))}}},controls:{types:{singleLineEdit:1,multipleLineEdit:2,blob:3,radio:4,comboBox:5,listBox:6,checkBox:7,image:8,textBlock:9,button:10,grid:11,
userControl:12,userControlContainer:13,webComponent:14,embeddedPage:15,table:16,row:17,cell:18,group:19,multimedia:20,video:21,audio:22,div:23},formats:{TEXT:0,HTML:1,RAW_HTML:2,TEXT_W_SPACES:3},isMultiSelection:function(a){return"combo"==a||"dyncombo"==a||"listbx"==a||"dynlistbx"==a?!0:!1},eventJSCode:function(a,b,c,d,e){var i="";if(4==a&&c)i=c;else if(1==a)i="gx.fn.closeWindow();";else if(7==a)a="",d&&e&&(a=",'"+d.gridName+"','"+e.gxId+"'"),i="gx.evt.execCliEvt("+b+a+",this);";else if(6==a||5==
a)i="gx.evt.execEvt('"+b+"',this);";return i},startAnchor:function(a,b,c,d,e){""!=c?""!=b?a.append('<a href="javascript:if( '+c+") {"+b+'}">'):a.append('<a href="javascript:'+c+'">'):""!=b?a.append('<a href="javascript:'+b+'">'):""!=d&&(a.append('<a href="'+d+'"'),""!=e&&a.append(' target="'+e+'"'),a.append(">"))},endAnchor:function(a,b,c,d){(""!=b||""!=c||""!=d)&&a.append("</a>")},onJSEvent:function(a,b,c,d){a.append(" ");""!=d&&a.append('jsevent="'+d+'" ');a.append(b+'="if( ');""!=c?a.append("gx.evt.jsEvent(this)) {"+
c+'} else return false;"'):a.append('!gx.evt.jsEvent(this)) return false;"')},htmlControl:function(a,b,c,d,e){this.id=a||"";this.width=b||0;this.widthUnit="px";this.height=c||0;this.heightUnit="px";this.cssClass=d||"";this.style=this.ownCssClass=this.roClass="";this.title=e||"";this.value="";this.type=-1;this.dataType="";this.enabled=this.visible=!0;this.rtEnabled=!1;this.jsEvent=this.linkTarget=this.link="";this.hasJsLink=!1;this.extraAttributes="";this.column=this.row=this.grid=null;this.gridRow=
this.gridId="";this.buffer=new gx.text.stringBuffer;this.getHtml=function(){this.buffer.clear();this._getHtml();return this.buffer.toString()};this.append=function(a){return this.buffer.append(a)};this.tagAtt=function(a,b){return this.buffer.append(" "+a+'="'+b.toString().replace(/\"/g,"&quot;")+'"')};this.persistValue=function(){var a=this.grid.parentObject.GXValidFnc[this.column.gxId];!gx.lang.emptyNum(this.column.gxId)&&a&&(this._persistValue?this._persistValue():a.v2v&&a.v2v(this.value))};this.setIndividualProp=
function(a,b){this[a]="enabled"==a||"visible"==a||"isPassword"==a||"autoComplete"==a||"hasJsLink"==a?gx.lang.gxBoolean(b):b};this.setGridData=function(a){this.grid=a.grid;this.row=a.row;this.gridId=a.gridId;this.gridRow=a.gridRow};this.getGridData=function(){return{grid:this.grid,row:this.row,gridId:this.gridId,gridRow:this.gridRow}}},singleLineEdit:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.singleLineEdit;this.maxLength="";this.isPassword=!1;this.setProperties=function(a,
b,c,d,e,h,f,g,k,j,l,o,m,p,n,r,s,v,w,t,A,x,C,D,B,E,F,H,I,y,J,K,L){this.id=a;this.inputType=s;this.step=v;this.title=f;this.placeholder=g;this.width=w;this.widthUnit=t;this.height=A;this.heightUnit=x;this.maxLength=C;this.visible=0!=p;this.enabled=0!=n;this.rtEnabled=0!=r;this.isPassword=0!=D;this.format=B;this.link=e;this.linkTarget=h;this.style=o;this.cssClass=l;this.roClass=m;this.vStruct=gx.O.getValidStructFld(this.column.htmlName);this.formattedValue=!gx.lang.emptyObject(b)?gx.html.encodeCaseFormat(b,
B):this.applyPicture(gx.html.encodeCaseFormat(L,B));this.extraAttributes=c;this.jsScrCode=j;this.usrOnclick=k;this.eventName=d;this.parentId=E;this.hasTheme=F;this.autoComplete=0!=H;this.autoCorrection=0!=I;this.value=L;this.domainName=J};this.applyPicture=function(a){var b=this.vStruct;if(!gx.lang.emptyObject(b)&&!gx.lang.emptyObject(b.pic)&&!gx.lang.emptyObject(b.type))switch(b.type){case "int":return gx.num.formatNumber(a,b.dec,b.pic,b.len,b.sign,!0);case "decimal":return gx.num.formatNumber(a,
b.dec,b.pic,b.len,b.sign,!0);case "char":return a;default:return a}else return a};this._getHtml=function(){var a="",b="";0==this.width&&(this.width=this.colSize?this.colSize:this.maxLength,this.widthUnit="chr");0<this.width&&("chr"==this.widthUnit?a=' size="'+this.width+'"':this.style=this.style+";width: "+this.width+this.widthUnit+";");0<this.height&&"row"!=this.heightUnit&&(this.style=this.style+";height: "+this.height+this.heightUnit+";");b=this.style;this.style+=!this.visible?";display:none;":
"";if(this.rtEnabled||this.enabled){if(this.dataType==gx.types.date||this.dataType==gx.types.dateTime)this.append("<div"),this.tagAtt("id",this.id+"_dp_container"),this.tagAtt("class","dp_container"),""!=this.style&&this.tagAtt("style","white-space:nowrap;display:inline;width:auto;"),this.append(">");this.append("<input");if(!0==this.isPassword)this.tagAtt("type","password");else if(this.tagAtt("type",this.inputType),this.step&&("number"==this.inputType||"range"==this.inputType))this.tagAtt("step",
this.step),"search"==this.inputType&&(this.extraAttributes+=' onsearch="this.onchange();"');this.tagAtt("id",this.id);this.tagAtt("name",this.id);this.tagAtt("value",this.dataType==gx.types.numeric?gx.text.ltrim(this.formattedValue):this.formattedValue);this.append(a);""!=this.title&&this.tagAtt("title",this.title);""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder);this.autoComplete||this.tagAtt("autocomplete","off");this.tagAtt("spellcheck",this.autoCorrection.toString());"date"!=
this.inputType&&("datetime"!=this.inputType&&"datetime-local"!=this.inputType)&&this.tagAtt("maxlength",this.maxLength);""!=this.cssClass&&this.tagAtt("class",this.cssClass);a=this.style;""!=this.column.align&&(a+=";text-align:"+this.column.align);var c=!this.enabled&&this.rtEnabled?";display:none;":"",a=a+c;""!=a&&this.tagAtt("style",a);this.append(this.extraAttributes);this.append(">");this.dataType==gx.types.date||this.dataType==gx.types.dateTime?(a=this.grid.parentObject.getValidStructFld(this.id),
void 0!=a.dp&&(0==a.dp.f&&(this.append("<img"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"datepickerImage")),this.tagAtt("id",this.id+"_dp_trigger"),c=!this.enabled&&this.rtEnabled||!this.visible?";display:none;":"",this.tagAtt("style","cursor: pointer"+c),this.tagAtt("title","Date selector"),this.append(">")),this.append("</div>"),this.grid.addDatepickerToSetup({CtrlId:this.id,Grid:this.gridId,Row:this.gridRow}))):gx.html.controls.specificDomainCtrls(this)}if(!this.enabled){c="";this.rtEnabled||this.grid.addHiddenControl(this.id,
this.value);c=this.hasTheme?0==this.parentId?""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly")?"Readonly"+this.cssClass:this.cssClass:""!=this.roClass&&0!=this.roClass.indexOf("Readonly")?"Readonly"+this.roClass:this.roClass:this.cssClass;a="";this.format!=gx.html.controls.formats.RAW_HTML&&(b+=!this.visible?";display:none;":"",this.append("<span"),this.append(this.extraAttributes),""!=c&&this.tagAtt("class",c),""!=b&&this.tagAtt("style",b),""!=this.title&&this.tagAtt("title",this.title),this.tagAtt("id",
"span_"+this.id),this.append(">"),a=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),gx.html.controls.startAnchor(this,a,this.usrOnclick,this.link,this.linkTarget));if(this.isPassword){b=gx.lang.emptyObject(this.maxLength)?3:parseInt(this.maxLength);for(c=0;c<b;c++)this.append("*")}else this.append(this.formattedValue);this.format!=gx.html.controls.formats.RAW_HTML&&(gx.html.controls.endAnchor(this,a,this.usrOnclick,this.link),this.append("</span>"));this.format==
gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1);gx.html.controls.specificDomainCtrls(this)}}},multipleLineEdit:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.multipleLineEdit;this.setProperties=function(a,b,c,d,e,h,f,g,k,j,l,o,m,p,n,r,s,v,w,t,A){this.id=a;this.visible=0!=e;this.enabled=0!=h;this.rtEnabled=0!=f;this.width=g;this.widthUnit=k;this.height=j;this.heightUnit=l;this.style=o;this.cssClass=m;this.maxLength=p;this.extraAttributes=
c;this.autoresize=0!=n;this.format=d;this.link=b;this.linkTarget=r;this.placeholder=s;this.value=A;this.autoCorrection=0!=v;this.domainName=t};this._getHtml=function(){this.style+=!this.visible||!this.enabled&&this.rtEnabled?";display:none;":"";if(this.rtEnabled||this.enabled)this.append("<textarea"),""!=this.placeholder&&this.tagAtt("placeholder",this.placeholder),this.tagAtt("spellcheck",this.autoCorrection.toString()),"chr"==this.widthUnit?this.tagAtt("cols",this.width):this.style=this.style+";width: "+
this.width+this.widthUnit,"row"==this.heightUnit?this.tagAtt("rows",this.height):this.style=this.style+";height: "+this.height+this.heightUnit,this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.tagAtt("maxlength",this.maxLength),this.append('onkeyup = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),this.append('onkeydown = "return gx.evt.checkMaxLength(this,'+this.maxLength+',event);"'),""!=this.cssClass&&this.tagAtt("class",this.cssClass),""!=this.style&&this.tagAtt("style",
this.style),""!=this.title&&this.tagAtt("title",this.title),this.append(this.extraAttributes),this.append(">"),this.append(this.value),this.append("</textarea>");if(!this.enabled){var a=!this.visible?"display:none;":"";this.autoresize||(a+='overflow="hidden";');this.rtEnabled||this.grid.addHiddenControl(this.id,this.value);""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly")&&(this.cssClass="Readonly"+this.cssClass);this.append("<span ");this.append(this.extraAttributes);""!=this.cssClass&&this.tagAtt("class",
this.cssClass);""!=a&&this.tagAtt("style",a);""!=this.title&&this.tagAtt("title",this.title);this.tagAtt("id","span_"+this.id);this.append(">");gx.html.controls.startAnchor(this,"","",this.link,this.linkTarget);this.append(gx.html.encodeCaseFormat(this.value,this.format,!0));gx.html.controls.endAnchor(this,"","",this.link);gx.html.controls.specificDomainCtrls(this);this.append("</span>")}}},blob:function(a,b,c,d,e,i,q){this.base(a,b,c,d,e);this.type=gx.html.controls.types.blob;this.display=i||0;this.contentType=
q||"text/html";this.parameters=this.url="";this.setProperties=function(a,b,c,i,d,e,q,j,l,o,m,p,n,r,s,v,w,t,A,x,C,D,B,E,F,H,I,y){this.id=a;this.value=b;this.contentType=c||"text/html";this.linkTarget=d;this.parameters=e;this.display=q;this.visible=0!=l;this.enabled=0!=j;this.alt=o;this.title=m;this.borderWidth=p;this.autoresize=0!=n;this.width=r;this.widthUnit=s;this.height=v;this.heightUnit=w;this.vSpace=t;this.hSpace=A;this.jsScrCode=x;this.usrOnclick=C;this.eventName=D;this.style=B;this.cssClass=
E;this.extraAttributes=F;this.extraDisplayAttributes=H;this.jsDynCode=I;y?gx.ajax.isabsoluteurl(y)?this.url=y:gx.ajax.isRelativeToHost(y)?(this.url=y,0!=y.toLowerCase().indexOf("/"+gx.basePath.toLowerCase())&&(this.url=gx.util.resourceUrl(gx.basePath+y,!1))):this.url=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+y,!1):this.url=""};this._getHtml=function(){var a="";this.style+=this.visible?"":";display:none;";this.append("<table");this.tagAtt("border",0);this.tagAtt("cellpadding",0);this.tagAtt("cellspacing",
0);this.tagAtt("style","margin:"+this.vSpace+"px "+this.hSpace+"px;");""!=this.title&&this.tagAtt("title",this.title);this.append("><tr><td>");var b=-1!=this.contentType.toLowerCase().indexOf("image/");if(0==this.display){if(b){this.append("<img");""!=this.alt&&this.tagAtt("alt",this.alt);if(""==this.url||this.url==gx.util.resourceUrl(gx.basePath+gx.staticDirectory))this.url=gx.ajax.getImageUrl(gx,"blankImage");this.tagAtt("src",this.url)}else this.append("<object"),this.tagAtt("type",this.contentType),
""==this.url&&(this.url="about:blank"),this.tagAtt("data",this.url);this.tagAtt("id","Object_"+this.id);this.style+="display:block;";0!=this.width&&!this.autoresize&&(this.style=this.style+"width:"+this.width+this.widthUnit+";");0!=this.height&&!this.autoresize&&(this.style=this.style+"height:"+this.height+this.heightUnit+";");this.tagAtt("style",this.style);a=""!=this.cssClass?"BlobContent"+this.cssClass:this.cssClass;!this.enabled&&(""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly"))&&(a="Readonly"+
a);this.tagAtt("class",a);this.append(this.extraDisplayAttributes);this.append(">");b?this.append("</img>"):(this.append(this.parameters),this.append("</object>"))}else 1==this.display&&(this.append("<a"),this.tagAtt("id","Link_"+this.id),this.style=""!=this.url?this.style+"display:block;":this.style+"display:none;",this.tagAtt("style",this.style),this.tagAtt("href",this.url),this.tagAtt("type",this.contentType),""!=this.linkTarget&&this.tagAtt("target",this.linkTarget),this.append("><img"),this.tagAtt("border",
"0"),this.tagAtt("src",gx.ajax.getImageUrl(gx,"downloadImage")),this.append("></a>"));this.append("</td></tr><tr><td>");if(this.enabled){var c="";gx.lang.emptyObject(this.value)||(gx.dom.form().encoding="multipart/form-data");a=gx.dom.el(this.id);this.grid&&this.grid.parentObject.isTransaction()&&a&&this.value===a.value?(b=this.id+"_hook",this.append("<div"),this.tagAtt("id",b),this.append(">"),this.append("</div>"),this.grid.addControlToReuse({el:a,hookId:b})):(this.append("<input"),this.tagAtt("type",
"file"),this.tagAtt("id",this.id),this.tagAtt("name",this.id),this.visible||(c+="display:none;"),0!=this.width&&(c=c+"width:"+this.width+";"),this.tagAtt("style",c),this.tagAtt("value",this.value),a=""!=this.cssClass?"BlobInput"+this.cssClass:this.cssClass,!this.enabled&&(""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly"))&&(a="Readonly"+a),this.tagAtt("class",a),b&&this.tagAtt("accept",this.contentType),this.append(this.extraAttributes),this.append(">"))}this.append("</td></tr></table>")}},
radio:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.radio;this.vertical=!0;this.possibleValues=[];this.setProperties=function(a,b,c,d,e,h,f,g,k,j,l,o,m,p){this.possibleValues=a.v||[];this.id=b;this.title=c;this.visible=0!=d;this.enabled=0!=e;this.columns=h;this.orientation=f;this.style=g;this.cssClass=k;this.jsScrCode=j;this.usrOnclick=l;this.eventName=o;this.extraAttributes=m;this.value=p};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()));
var a="",a=!this.enabled&&""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly")?"Readonly"+this.cssClass:this.cssClass,b=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.style+=this.visible?"":";display:none;";1==this.orientation?this.append("<table"):this.append("<span ");this.tagAtt("class",a);""!=this.style&&this.tagAtt("style",this.style);this.append(">");for(var a=0,c=this.possibleValues.length,d=0;d<c;d++){var e=this.possibleValues[d],h=e[0],e=e[1];
1==this.orientation&&(1<this.columns&&(a=(a+1)%this.columns),0==a&&this.append("<tr>"),this.append("<td>"));this.append("<input");this.tagAtt("type","radio");this.tagAtt("name",this.id);this.tagAtt("value",h);""!=this.title&&this.tagAtt("title",this.title);gx.text.trim(this.value.toString())==gx.text.trim(h.toString())&&this.append(" checked");this.enabled||this.append(" disabled");this.append(this.extraAttributes);gx.html.controls.onJSEvent(this,"gxoch0",b,this.usrOnclick);this.append(">");this.append(e);
1==this.orientation&&(this.append("</td>"),0==a&&this.append("</tr>"))}1==this.orientation?this.append("</table>"):this.append("</span>")}},comboBox:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.comboBox;this.rows=1;this.possibleValues=[];this.setProperties=function(a,b,c,d,e,h,f,g,k,j,l,o,m,p,n,r,s,v,w,t,A,x){this.possibleValues=a.v||[];this.id=b;this.title=g;this.visible=0!=k;this.enabled=0!=j;this.rtEnabled=0!=l;this.rows=c;this.format=o;this.width=m;this.widthUnit=
p;this.height=n;this.heightUnit=r;this.style=s;this.cssClass=v;this.formattedValue=t;this.jsScrCode=e;this.usrOnclick=d;this.eventName=h;this.extraAttributes=w;this.value=x};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()));0<this.width&&(this.style=this.style+";width: "+this.width+this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);var a=this.style+" ;overflow:hidden;";this.style+=!this.visible||!this.enabled&&
this.rtEnabled?";display:none;":"";if(this.enabled||this.rtEnabled){var b=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row);this.append("<select");1<this.rows&&this.tagAtt("size",this.rows);this.tagAtt("id",this.id);this.tagAtt("name",this.id);""!=this.title&&this.tagAtt("title",this.title);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.enabled||(this.append(" disabled"),gx.util.addOnce(gx.disabledControls,
this.id,this.id));this.append(this.extraAttributes);gx.html.controls.onJSEvent(this,"gxoch0",b,this.usrOnclick);this.append(">");for(var b=this.possibleValues.length,c=0;c<b;c++){var d=this.possibleValues[c];this.append("<option");this.tagAtt("value",d[0]);gx.text.trim(d[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))&&this.append(" selected");this.append(">");this.append(d[1]);this.append("</option>")}this.append("</select>")}if(!this.enabled){this.rtEnabled||this.grid.addHiddenControl(this.id,
this.value);b="";b=""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly")?"Readonly"+this.cssClass:this.cssClass;a+=!this.visible?";display:none;":"";this.append("<span ");this.tagAtt("id","span_"+this.id);""!=this.title&&this.tagAtt("title",this.title);""!=b&&this.tagAtt("class",b);""!=a&&this.tagAtt("style",a);this.append(this.extraAttributes);this.append(">");b=this.possibleValues.length;for(c=0;c<b;c++)if(d=this.possibleValues[c],gx.text.trim(d[0].toString())==gx.text.trim(gx.lang.htmlDecode(this.value.toString()))){this.append(d[1]);
break}this.append("</span>")}}},listBox:function(a,b,c,d,e,i){this.base(a,b,c,d,e);this.type=gx.html.controls.types.listBox;this.rows=i},checkBox:function(a,b,c,d,e,i,q,G){this.base(a,b,c,d,e);this.type=gx.html.controls.types.checkBox;this.caption=i||"";this.checkedValue=q;this.uncheckedValue=G;this.setProperties=function(a,b,c,d,i,e,q,G,o,m){this.id=a;this.title=b;this.visible=0!=c;this.enabled=0!=d;this.checkedValue=i;this.caption=e;this.style=q;this.cssClass=G;this.extraAttributes=o;this.value=
m};this._getHtml=function(){this.dataType==gx.types.numeric&&(this.value=gx.text.trim(this.value.toString()),this.checkedValue=gx.text.trim(this.checkedValue.toString()));var a=this.cssClass;!this.enabled&&(""!=this.cssClass&&0!=this.cssClass.indexOf("Readonly"))&&(a="Readonly"+this.cssClass);this.style+=this.visible?"":";display:none;";this.append("<span ");""!=a&&this.tagAtt("class",a);""!=this.style&&this.tagAtt("style",this.style);this.append("><input");this.tagAtt("type","checkbox");this.tagAtt("name",
this.id);this.value.toString()==this.checkedValue.toString()?(this.append(" checked"),this.tagAtt("value",this.checkedValue)):this.tagAtt("value",this.uncheckedValue);""!=this.title&&this.tagAtt("title",this.title);this.enabled||this.append(" disabled");this.append(this.extraAttributes);this.append(">");this.append(this.caption);this.append("</span>")}},imageReadOnly:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.image;this.alt="";this.setProperties=function(a,b,c,d,e,h,
f,g,k,j,l,o,m,p,n,r,s,v,w,t,A,x,C,D,B,E,F){this.id=a;this.accessKey=d;this.visible=0!=h;this.enabled=0!=f;this.alt=g;this.title=k;this.borderWidth=j;this.autoresize=0!=l;this.width=o;this.widthUnit=m;this.height=p;this.heightUnit=n;this.vSpace=r;this.hSpace=s;this.link=b;this.linkTarget=c;this.jsScrCode=v;this.usrOnclick=w;this.eventName=t;this.style=A;this.cssClass=x;this.align=C;this.extraAttributes=D;this.useMap=B;this.jsDynCode=E;this.value=this.imageUrl=F};this._getHtml=function(){this.grid.addHiddenControl(this.id,
this.imageUrl);""!=this.eventName&&gx.text.endsWith(this.eventName,".")&&(this.eventName+=this.gridRow);var a=gx.util.accessKey(this.title);this.title=gx.util.accessKeyCaption(this.title);""!=a&&(this.accessKey=a);this.style+=this.visible?"":";display:none;";a=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,this.jsDynCode,this.grid,this.row);""!=a?(this.append("<input"),this.tagAtt("type","image"),this.tagAtt("src",this.value),this.tagAtt("name",this.id),gx.html.controls.onJSEvent(this,
"onclick",a+"return false;",this.usrOnclick)):(this.enabled&&""!=this.link&&gx.html.controls.startAnchor(this,a,this.usrOnclick,this.link,this.linkTarget),this.append("<img"),this.tagAtt("src",this.value));this.enabled||this.append(" disabled");""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("id",this.id);0!=this.vSpace&&this.tagAtt("vspace",this.vSpace);0!=this.hSpace&&this.tagAtt("hspace",this.hSpace);""!=this.align&&this.tagAtt("align",this.align);if(""==this.cssClass||
0<this.borderWidth)this.tagAtt("border",this.borderWidth),""!=this.cssClass&&(this.style=this.style+";border-width: "+this.borderWidth);""!=this.alt&&this.tagAtt("alt",this.alt);""!=this.title&&this.tagAtt("title",this.title);0<this.width&&(this.style=this.style+";width: "+this.width+this.widthUnit);0<this.height&&(this.style=this.style+";height: "+this.height+this.heightUnit);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);""!=this.useMap&&this.tagAtt("usemap",
this.useMap);this.extraAttributes&&this.append(this.extraAttributes);this.append(">");this.enabled&&(""!=this.link&&""==a)&&gx.html.controls.endAnchor(this,a,this.usrOnclick,this.link)};this._persistValue=function(){this.grid.parentObject.GXValidFnc[this.column.gxId].v2v&&this.grid.parentObject.GXValidFnc[this.column.gxId].v2v(this.imageUrl)}},multimedia:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.multimedia;this.setProperties=function(a,b,c,d,e,h,f,g,k,j,l,o,m,p,n,r,
s,v,w,t){this.id=a;this.display=0!=b;this.visible=0!=c;this.enabled=0!=d;this.autoresize=0!=e;this.width=h;this.widthUnit=f;this.height=g;this.heightUnit=k;this.jsScrCode=j;this.usrOnclick=l;this.eventName=o;this.style=m;this.cssClass=p;this.extraInputAttributes=n;this.jsDynCode=s;this.readOnly=0!=v;this.isBlob=gx.lang.gxBoolean(w);this.multimediaUrl=t;this.value=this.resolveUrl(t)};this.resolveUrl=function(a){return!a?a:gx.ajax.isabsoluteurl(a)?a:gx.ajax.isRelativeToHost(a)?0!=a.toLowerCase().indexOf("/"+
gx.basePath.toLowerCase())?gx.util.resourceUrl(gx.basePath+a,!1):a:gx.util.resourceUrl(gx.basePath+gx.staticDirectory+a,!1)};this.startMultimediaUploadControl=function(a,b,c,d){return['<div id="',a,'_ct" class="gx-multimedia-upload" style="',(d||"")+(b?"":"display:none;"),'">'].join("")};this.endMultimediaUploadControl=function(a,b,c,d,e,h,f,g,k,j,l,o,m,p,n,r){c=[];d=gx.dom.el(a);e="checked";h="";f=a.match(/([\w]+)(_\d{4})$/);f=f[1]+"_GXI"+f[2];if(n||void 0===n)e="",h="checked",b="";n=['<div id="',
a,'_ct_fields" class="fields-ct">','<label class="option">','<input name="',a,'Option" type="radio" value="file" ',h,"/>",gx.getMessage("GXM_uploadfileoption"),"</label>",'<label class="option">','<input name="',a,'Option" type="radio" value="uri" ',e,"/>",gx.getMessage("GXM_uploadurioption"),"</label>",'<input type="text" class="field ',l,'" id="',f,'" name="',f,'" value="',b,'" ',m," />"];c.push(n.join(""));n=d?['<div id="',a,'_hook"></div>']:['<input type="file" class="field ',l,'" id="',a,'" name="',
a,'" accept="',r,'" ',m,"/>"];c.push(n.join(""));n=["</div>","</div>"];c.push(n.join(""));return c.join("")};this.getPreviewHtml=function(){return['<a target="_blank"',this.value?' href="'+this.value+'"':"",'><span id="',this.readOnly||!this.enabled?this.id:"",'" class="',this.cssClass?"Readonly"+this.cssClass:""," ",this.placeHolderClass,'" title="',gx.getMessage("GXM_multimediaalttext"),'"></span></a>'].join("")};this._getHtml=function(){!this.readOnly&&this.enabled?(this.append(this.startMultimediaUploadControl(this.id,
this.visible,this.width,this.style)),this.append('<a class="action change-action" gxfocusable="1" href=""'+this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>"),this.append('<a gxfocusable="1" href="" class="action clear-action"></a>')):this.grid.addHiddenControl(this.id,this.multimediaUrl);this.append(this.getPreviewHtml());if(!this.readOnly&&this.enabled){this.append(this.endMultimediaUploadControl(this.id,this.value,"",this.width,this.widthUnit,this.height,this.heightUnit,
this.usrOnclick,this.eventName,this.style,this.cssClass,"",this.extraInputAttributes,this.readOnly,this.isBlob,this.accept));var a=gx.dom.el(this.id);this.grid&&(this.grid.parentObject.isTransaction()&&a)&&this.grid.addControlToReuse({el:a,hookId:this.id+"_hook"})}};this._persistValue=function(){this.grid.parentObject.GXValidFnc[this.column.gxId].v2v&&this.grid.parentObject.GXValidFnc[this.column.gxId].v2v(this.multimediaUrl)}},image:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.image;
this.alt="";this.innerImage=new gx.html.controls.imageReadOnly;this.placeHolderClass="gx-image-placeholder";this.setProperties=function(a,b,c,d,e,h,f,g,k,j,l,o,m,p,n,r,s,v,w,t,A,x,C,D,B,E,F,H,I,y,J){this.id=a;this.accessKey=d;this.visible=0!=h;this.enabled=0!=f;this.alt=g;this.title=k;this.borderWidth=j;this.autoresize=0!=l;this.width=o;this.widthUnit=m;this.height=p;this.heightUnit=n;this.vSpace=r;this.hSpace=s;this.link=b;this.linkTarget=c;this.jsScrCode=v;this.usrOnclick=w;this.eventName=t;this.style=
A;this.cssClass=x;this.align=C;this.extraInputAttributes=D;this.extraImageAttributes=B;this.useMap=E;this.jsDynCode=F;this.readOnly=0!=H;this.isBlob=gx.lang.gxBoolean(I);this.isAttribute=gx.lang.gxBoolean(y);this.multimediaUrl=J;this.value=this.resolveUrl(J);this.themeName=e;this.className=y&&x?"Readonly"+x:x;a=this.getGridData();this.updateinnerImageProperties();this.innerImage.setGridData(a);this.innerImage.column=this.column};this.updateinnerImageProperties=function(){this.innerImage.setProperties(this.id,
this.link,this.linkTarget,this.accessKey,this.themeName,this.visible,this.enabled,this.alt,this.title,this.borderWidth,this.autoresize,this.width,this.heightUnit,this.height,this.heightUnit,this.vSpace,this.hSpace,this.jsScrCode,this.usrOnclick,this.eventName,this.style,this.className,this.align,this.extraImageAttributes,this.useMap,this.jsDynCode,this.value)};this.getPreviewHtml=function(){return['<a target="_blank"><img id="Object_',this.id,'" class="',this.cssClass?"Readonly"+this.cssClass:"",
'" alt="',this.alt,'" src="',this.value,'" /><span class="',this.placeHolderClass,'"></span></a>'].join("")};this._getHtml=function(){if(this.readOnly||!this.enabled)this.buffer=this.innerImage.buffer,this.updateinnerImageProperties(),this.innerImage._getHtml();else{this.append(this.startMultimediaUploadControl(this.id,this.visible,this.width,this.style));this.append('<a class="action change-action" gxfocusable="1" href=""'+this.extraInputAttributes+">"+gx.getMessage("GXM_multimediachange")+"</a>");
this.append('<a gxfocusable="1" href="" class="action clear-action"></a>');this.append(this.getPreviewHtml());this.append(this.endMultimediaUploadControl(this.id,this.value,this.title,this.width,this.widthUnit,this.height,this.heightUnit,this.usrOnclick,this.eventName,this.style,this.cssClass,this.align,this.extraInputAttributes,this.readOnly,this.isBlob,"image/*"));var a=gx.dom.el(this.id);this.grid&&(this.grid.parentObject.isTransaction()&&a)&&this.grid.addControlToReuse({el:a,hookId:this.id+"_hook"})}}},
video:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.video;this.accept="video/*";this.placeHolderClass="gx-video-placeholder"},audio:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.audio;this.accept="audio/*";this.placeHolderClass="gx-audio-placeholder"},textBlock:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.textBlock;this.setProperties=function(a,b,c,d,e,h,f,g,k,j,l,o,m){this.id=a;this.visible=0!=j;this.enabled=0!=
l;this.format=o;this.title=k;this.link=b;this.linkTarget=c;this.jsScrCode=g;this.usrOnclick=d;this.eventName=e;this.extraAttributes=h;this.cssClass=f;this.value=gx.text.replaceAll(m,"�","'")};this._getHtml=function(){var a;this.format!=gx.html.controls.formats.RAW_HTML&&(this.format==gx.html.controls.formats.HTML?(a=(this.visible?";display:inline;":";display:none;")+this.extraAttributes,this.append("<div ")):(a=(this.visible?"":";display:none;")+this.extraAttributes,this.append("<span ")),this.tagAtt("id",
this.id),""!=this.cssClass&&this.tagAtt("class",this.cssClass),this.tagAtt("gxformat",this.format),""!=a&&this.tagAtt("style",a),""!=this.title&&this.tagAtt("title",this.title),this.append(">"));a="";this.enabled?(a=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,null,this.grid,this.row),gx.html.controls.startAnchor(this,a,this.usrOnclick,this.link,this.linkTarget)):a="";this.append(gx.html.encodeCaseFormat(this.value,this.format));this.enabled&&gx.html.controls.endAnchor(this,a,this.usrOnclick,
this.link);this.format==gx.html.controls.formats.HTML?this.append("</div>"):this.format!=gx.html.controls.formats.RAW_HTML&&this.append("</span>");this.format==gx.html.controls.formats.RAW_HTML&&gx.html.processCode(this.buffer.toString(),!1)}},button:function(a,b,c,d,e,i){this.base(a,b,c,d,e);this.type=gx.html.controls.types.button;this.caption="";this.buttonStyle=i||"rounded";this.setProperties=function(a,b,c,d,e,i,g,k,j,l,o,m,p,n,r,s){this.reset=r;this.id=a;this.title=e;this.accessKey=i;this.style=
g;this.cssClass=k;this.visible=0!=j;this.enabled=0!=l;this.buttonStyle=o;this.jsScrCode=d;this.usrOnclick=c;this.eventName=m+(5==this.jsScrCode?this.gridRow:"");this.extraAttributes=p;this.jsCode=b;this.jsDynCode=n;this.caption=s};this._getHtml=function(){this.style+=this.visible?"":";display:none;";var a="BaseRBtn R"+this.cssClass;"rounded"==this.buttonStyle&&(this.cssClass="BtnText",this.append("<span "),this.tagAtt("onclick","gx.evt.doClick('"+this.id+"', event);"),""!=this.style&&this.tagAtt("style",
this.style),this.tagAtt("class",a),this.append('><span class="BtnLeft"><span class="BtnRight"><span class="BtnBackground">'));this.append("<input");a="button";1==this.reset?a="submit":0==this.reset&&(a="reset");this.tagAtt("type",a);a=gx.util.accessKey(this.caption);this.caption=gx.util.accessKeyCaption(this.caption);""==a&&(a=gx.util.accessKey(this.title),this.title=gx.util.accessKeyCaption(this.title));""!=a&&(this.accessKey=a);this.tagAtt("name",this.id);this.tagAtt("value",this.caption);""!=this.title&&
this.tagAtt("title",this.title);""!=this.accessKey&&this.tagAtt("accesskey",this.accessKey);this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.tagAtt("gxevent",this.eventName);this.enabled||this.append(" disabled");a=gx.html.controls.eventJSCode(this.jsScrCode,this.eventName,this.jsDynCode,this.grid,this.row);a=this.jsCode+a;gx.html.controls.onJSEvent(this,"onclick",a+"return false;",this.usrOnclick);this.append(this.extraAttributes);this.append(">");"rounded"==
this.buttonStyle&&this.append("</span></span></span></span>")}},grid:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.grid;this.containerName="";this.setProperties=function(a){this.containerName=a;this.id=this.grid.gxComponentContext+this.containerName+"Div_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.append("></div>")}},userControl:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.userControl;this.containerName=
"";this.setProperties=function(a){this.id=this.containerName=a};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class","gx_usercontrol");this.append("></div>");this.grid.addUsercontrolToDraw({r:this.gridRow,c:this.column})}},userControlContainer:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.userControlContainer;this.containerName=this.parentName="";this.setProperties=function(a,b){this.parentName=a;this.containerName=b;this.id=this.parentName+
this.containerName+"_"+this.gridRow};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("style","display:none;");this.tagAtt("class","gx_usercontrol_child");this.append(">")}},webComponent:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.webComponent;this.content=this.controlName="";this.setProperties=function(a){this.controlName=a;var b=this.grid.parentObject.getComponentData(this.controlName),c=b.Prefix,a=this.grid.gxComponentContext+"gxHTMLWrp"+
c+this.gridRow,d=gx.dom.el(a),e="";this.grid.addOldComponent(this.gridRow,this.grid.gxComponentContext+c+this.gridRow);if(null!=d)b=a+"_hook",this.grid.addComponentToDraw({create:!1,existingEl:b,el:a}),a=b;else if(!gx.lang.emptyObject(gx.csv.lastEvtResponse)&&!gx.lang.emptyObject(gx.csv.lastEvtResponse.gxComponents))if(d=gx.csv.lastEvtResponse.gxComponents[a],gx.lang.emptyObject(d))e="";else{var e=gx.html.cleanHtmlRefs(d),h=gx.fn.getHidden(this.grid.gxComponentContext+c+this.gridRow);h||(h=b.GXClass);
gx.lang.emptyObject(h)||this.grid.addComponentToDraw({load:!0,n:h.toLowerCase(),p:this.grid.gxComponentContext+c+this.gridRow,c:d})}this.id=a;this.content=e};this._getHtml=function(){this.append("<div");this.tagAtt("id",this.id);this.tagAtt("class","gxwebcomponent");this.append(">");this.append(this.content);this.append("</div>")}},embeddedPage:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.embeddedPage;this.align="center";this.scrollbars="auto";this.borderStyle="1";this.setProperties=
function(a,b,c,d,e,h,f,g,k,j,l){this.id=a;this.value=b;this.visible=0!=c;this.width=d;this.widthUnit=e;this.height=h;this.heightUnit=f;this.borderStyle=g;this.align=k;this.title=j;this.scrollbars=l};this._getHtml=function(){this.style+=this.visible?"":";display:none;";this.append("<iframe");this.tagAtt("frameborder",this.borderStyle);this.tagAtt("align",this.align);this.tagAtt("scrolling",this.scrollbars);0<this.height&&this.tagAtt("height",this.height+this.heightUnit);0<this.width&&this.tagAtt("width",
this.width+this.widthUnit);""!=this.title&&this.tagAtt("title",this.title);""!=this.id&&(this.tagAtt("id",this.id),this.tagAtt("name",this.id));""!=this.value&&this.tagAtt("src",this.value);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.append(">");this.append("</iframe>")}},table:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.table;this.backColor=this.cellPadding=this.cellSpacing="";this.setProperties=function(a,
b,c,d,e,h,f,g,k,j,l,o,m,p,n,r){this.id=a;this.visible=0!=b;this.cssClass=c;this.background=d;this.backColor=e;this.borderColor=h;this.align=f;this.title=g;this.borderWidth=k;this.cellPadding=j;this.cellSpacing=l;this.height=o;this.width=m;this.rules=p;this.heightUnit=n;this.widthUnit=r;this.style=""};this._getHtml=function(){this.style+=this.visible?"":";display:none;";""!=this.background&&(this.background=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+this.background,!0),this.style=this.style+
"background-image: url("+this.background+");");if(""!=this.backColor){var a=parseInt(this.backColor),a=isNaN(a)?this.backColor:gx.color.html(a).Html;this.style=this.style+"background-color: "+a+";"}""!=this.borderColor&&(a=parseInt(this.borderColor),a=isNaN(a)?this.borderColor:gx.color.html(a).Html,this.style=this.style+"border-color: "+a+";");""!=this.borderWidth&&(this.style=this.style+"border-width: "+this.borderWidth+";");""!=this.height&&(this.style=this.style+"height: "+this.height+this.heightUnit+
";");""!=this.width&&(this.style=this.style+"width: "+this.width+this.widthUnit+";");this.append("<table");this.tagAtt("id",this.id);this.tagAtt("align",this.align);""!=this.borderWidth&&this.tagAtt("border",this.borderWidth);""!==this.cellSpacing&&this.tagAtt("cellspacing",this.cellSpacing);""!==this.cellPadding&&this.tagAtt("cellpadding",this.cellPadding);""!=this.rules&&"none"!=this.rules&&this.tagAtt("rules",this.rules);""!=this.title&&this.tagAtt("title",this.title);""!=this.cssClass&&this.tagAtt("class",
this.cssClass);""!=this.style&&this.tagAtt("style",this.style);this.append(">")}},row:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.row;this.verticalAlign=this.align=this.borderColor=this.backColor="";this.isFreestyleRow=!1;this.oncontextmenu="";this.setProperties=function(a,b,c){b&&(this.cssClass=this.ownCssClass?b+(this.ownCssClass?" "+this.ownCssClass:""):b);this.style=c};this._getHtml=function(){this.append("<tr");""!=this.id&&this.tagAtt("id",this.id);this.isFreestyleRow&&
this.tagAtt("gxrow",this.gridRow);""!=this.backColor&&(this.style=this.style+"background-color:"+this.backColor+";");""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("valign",this.verticalAlign);""!=this.style&&this.tagAtt("style",this.style);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=this.oncontextmenu&&this.tagAtt("oncontextmenu",this.oncontextmenu);this.append(">")}},cell:function(a,
b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.cell;this.rowSpan=this.colSpan=this.verticalAlign=this.align=this.borderColor=this.backColor=this.background=this.style="";this.setProperties=function(a,b){this.background=a;b&&""!=b&&0<b.indexOf("style=")&&(this.style=b.substring(8),this.style=this.style.substring(0,this.style.length-1)+";")};this._getHtml=function(){this.append("<td");"undefined"!=typeof this.width&&0!=this.width&&this.tagAtt("width",this.width);"undefined"!=typeof this.height&&
0!=this.height&&this.tagAtt("height",this.height);""!=this.background&&this.tagAtt("background",this.background);""!=this.backColor&&(this.style+="background-color:"+this.backColor+";");""!=this.style&&this.tagAtt("style",this.style);""!=this.borderColor&&this.tagAtt("bordercolor",this.borderColor);""!=this.align&&this.tagAtt("align",this.align);""!=this.verticalAlign&&this.tagAtt("valign",this.verticalAlign);""!=this.colSpan&&this.tagAtt("colspan",this.colSpan);""!=this.rowSpan&&this.tagAtt("rowspan",
this.rowSpan);""!=this.cssClass&&this.tagAtt("class",this.cssClass);this.append(">")}},group:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.group;this.caption="";this.setProperties=function(){};this._getHtml=function(){this.append("<fieldset");this.tagAtt("name",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);var a="-moz-border-radius:3pt;";"0px"!=this.width&&(a+="width:"+this.width+";");"0px"!=this.height&&(a+="height:"+this.height+";");this.tagAtt("style",
a);this.append(">");this.append("<legend");""!=this.cssClass&&this.tagAtt("class",this.cssClass+"Title");this.append(">");this.append(gx.getMessage(this.caption));this.append("</legend>")}},div:function(a,b,c,d,e){this.base(a,b,c,d,e);this.type=gx.html.controls.types.div;this.setProperties=function(a,b,c,d,e,h,f,g){this.id=a;this.visible=0!=b;this.width=c;this.widthUnit=d;this.height=e;this.heightUnit=h;this.cssClass=f;this.extraAtts=g};this._getHtml=function(){var a=this.visible?"":";display:none;";
""!=this.height&&(a=a+"height: "+this.height+this.heightUnit+";");""!=this.width&&(a=a+"width: "+this.width+this.widthUnit+";");this.append("<div");this.tagAtt("id",this.id);""!=this.cssClass&&this.tagAtt("class",this.cssClass);""!=a&&this.tagAtt("style",a);""!=this.extraAtts&&this.append(this.extraAtts);this.append(">")}},specificDomainCtrls:function(a){if(a.domainName==gx.domains.component&&0==a.enabled){var b=a.enabled?";display:none;":"",c=a.id+"_comp_trigger",d=gx.util.resourceUrl(gx.basePath+
gx.staticDirectory+"Resources\\"+gx.theme+"\\Select.png",!1);a.append("<img");a.tagAtt("src",d);a.tagAtt("id",c);a.tagAtt("class","");a.tagAtt("style",b+" margin-left:2px; cursor:pointer;");a.tagAtt("onclick","gx.popup.openUrl('"+a.value+"')");a.append("/>");b=[];b.push(a.column.gxId)}else a.dataType==gx.types.geolocation&&(b=!a.enabled?";display:none;":"",c=gx.util.resourceUrl(gx.basePath+gx.staticDirectory+"Resources\\locateMe.png",!0),d=a.id+"_geoLocMe",a.append("<img"),a.tagAtt("src",c),a.tagAtt("id",
d),a.tagAtt("class","GeoLocOption"),a.tagAtt("style",b),a.tagAtt("onclick","gx.geolocation.getMyPosition(this)"),a.append(">"),b=[],b.push(a.column.gxId))},_init:function(){gx.lang.inherits(this.singleLineEdit,this.htmlControl);gx.lang.inherits(this.multipleLineEdit,this.singleLineEdit);gx.lang.inherits(this.blob,this.htmlControl);gx.lang.inherits(this.radio,this.htmlControl);gx.lang.inherits(this.comboBox,this.htmlControl);gx.lang.inherits(this.listBox,this.comboBox);gx.lang.inherits(this.checkBox,
this.htmlControl);gx.lang.inherits(this.imageReadOnly,this.htmlControl);gx.lang.inherits(this.textBlock,this.htmlControl);gx.lang.inherits(this.button,this.htmlControl);gx.lang.inherits(this.grid,this.htmlControl);gx.lang.inherits(this.userControl,this.htmlControl);gx.lang.inherits(this.userControlContainer,this.htmlControl);gx.lang.inherits(this.webComponent,this.htmlControl);gx.lang.inherits(this.embeddedPage,this.htmlControl);gx.lang.inherits(this.table,this.htmlControl);gx.lang.inherits(this.row,
this.htmlControl);gx.lang.inherits(this.cell,this.htmlControl);gx.lang.inherits(this.group,this.htmlControl);gx.lang.inherits(this.multimedia,this.htmlControl);gx.lang.inherits(this.image,this.multimedia);gx.lang.inherits(this.video,this.multimedia);gx.lang.inherits(this.audio,this.multimedia);gx.lang.inherits(this.div,this.htmlControl)}}}}();
